{
	"A.Kernel": {
		"Env": [
			"CONF=Amd64CPU"
		],
		"Include": [
			"core.json",
			"devdraw.json",
			"../ip/include.json",
			"../port/include.json"
		],
		"Kernel": {
			"Config": {
				"Code": [
					"int cpuserver = 1;",
					"uint32_t kerndate = 1;",
					"int printallsyscalls;"
				],
				"Dev": [
					"arch",
					"bridge",
					"cap",
					"cons",
					"draw",
					"dup",
					"env",
					"ether",
					"ip",
					"kprof",
					"ninep",
					"pci",
					"pipe",
					"proc",
					"root",
					"rtc",
					"sd",
					"shr",
					"srv",
					"ssl",
					"tls",
					"usb"
				],
				"Ip": [
					"tcp",
					"udp",
					"ipifc",
					"icmp",
					"icmp6",
					"gre"
				],
				"Link": [
					"ether8139",
					"ether8169",
					"ether82557",
					"ether82563",
					"etherigbe",
					"ethermedium",
					"loopbackmedium",
					"netdevmedium",
					"usbuhci",
					"usbohci",
					"usbehci"
				],
				"Sd": [
					"sdiahci"
				],
				"Uart": [
					"pci"
				],
				"VGA": [
				]
			},
			"Ramfiles": {
				"rofs": "/arch/$ARCH/cmd/disk/rofs"
			},
			"Systab": "/sys/src/lib/jehanne/9syscall/sys.h"
		},
		"Post": [
			"#strip $JEHANNE/arch/$ARCH/kern/jehanne"
		],
		"Program": "jehanne",
		"Install": "/arch/$ARCH/kern/",
		"SourceFiles": [
			"autogenerated.c",
			"cga.c",
			"usbehcipc.c",
			"usbohci.c",
			"usbuhci.c"
		]
	},
	"C.Multiboot": {
		"Pre": [
			"cd $JEHANNE/arch/$ARCH/kern; OBJCOPY=objcopy; $TOOLPREFIX$OBJCOPY -I elf64-x86-64 -O elf32-i386 jehanne jehanne.32bit",
			"#cd $JEHANNE/arch/$ARCH/kern; cp jehanne.32bit $JEHANNE/cfg/pxe/tftpboot"
		]
	},
	"D.InitRD": {
		"Env": [
			"KERNDIR=$JEHANNE/hacking/bin/",
			"KERNEL=workhorse.32bit"
		],
		"Pre": [
			"find $JEHANNE/arch/$ARCH/cmd -type f | xargs -n 1 strip",
			"echo /sys/src/kern/boot/createInitRD|runqemu"
		]
	},
	"E.Cleanup": {
		"Post": [
			"git clean -xdf ../"
		]
	}
}
