{
	"A.Kernel": {
		"Env": [
			"CONF=Workhorse"
		],
		"Include": [
			"core.json",
			"../ip/include.json",
			"../port/include.json"
		],
		"Kernel": {
			"Config": {
				"Code": [
					"int cpuserver = 1;",
					"uint32_t kerndate = 1;",
					"int printallsyscalls;"
				],
				"Dev": [
					"arch",
					"bridge",
					"cap",
					"cons",
					"dup",
					"env",
					"ether",
					"ip",
					"ninep",
					"pci",
					"pipe",
					"proc",
					"root",
					"sd",
					"self",
					"shr",
					"srv",
					"uart"
				],
				"Ip": [
					"tcp",
					"udp",
					"ipifc",
					"icmp",
					"icmp6",
					"gre"
				],
				"Link": [
					"ether8139",
					"ether8169",
					"ether82557",
					"ether82563",
					"etherigbe",
					"ethermedium",
					"loopbackmedium",
					"netdevmedium",
					"usbuhci",
					"usbohci",
					"usbehci"
				],
				"Sd": [
					"sdata",
					"sdiahci"
				],
				"Uart": [
					"i8250",
					"pci"
				],
				"VGA": [
				]
			},
			"Ramfiles": {
				"mkdir": "/arch/$ARCH/cmd/mkdir",
				"test": "/arch/$ARCH/cmd/test",
				"sleep": "/arch/$ARCH/cmd/sleep",
				"bind": "/arch/$ARCH/cmd/bind",
				"boot": "/sys/src/kern/boot/boot$CONF.elf.out",
				"mkrofs": "/arch/$ARCH/cmd/disk/mkrofs",
				"rofs": "/arch/$ARCH/cmd/disk/rofs",
				"cat": "/arch/$ARCH/cmd/cat",
				"date": "/arch/$ARCH/cmd/date",
				"echo": "/arch/$ARCH/cmd/echo",
				"factotum": "/arch/$ARCH/cmd/auth/factotum",
				"fdisk": "/arch/$ARCH/cmd/disk/fdisk",
				"ipconfig": "/arch/$ARCH/cmd/ip/ipconfig",
				"ls": "/arch/$ARCH/cmd/ls",
				"mount": "/arch/$ARCH/cmd/mount",
				"nvram": "/hacking/nvram",
				"prep": "/arch/$ARCH/cmd/disk/prep",
				"rc": "/arch/$ARCH/cmd/rc",
				"ps": "/arch/$ARCH/cmd/ps",
				"ed": "/arch/$ARCH/cmd/ed",
				"rcmain": "/arch/rc/lib/rcmain",
				"comconsole": "/arch/$ARCH/cmd/hmi/comconsole",
				"srv": "/arch/$ARCH/cmd/srv"
			},
			"Systab": "/sys/src/lib/jehanne/9syscall/sys.h"
		},
		"Post": [
			"OBJCOPY=objcopy; $TOOLPREFIX$OBJCOPY -I elf64-x86-64 -O elf32-i386 workhorse $JEHANNE/hacking/bin/workhorse.32bit",
			"mv workhorse $JEHANNE/hacking/bin/ #decomment to debug workhorse with gdb"
		],
		"Program": "workhorse",
		"SourceFiles": [
			"autogenerated.c",
			"sdata.c",
			"cga.c",
			"usbehcipc.c",
			"usbohci.c",
			"usbuhci.c"
		]
	}
}
