{
	"A.Lib": {
		"Cflags": [
			"-g",
			"-Wall",
			"-Wno-missing-braces",
			"-Wno-parentheses",
			"-Wno-unknown-pragmas",
			"-O0",
			"-static",
			"-fplan9-extensions",
			"-ffreestanding",
			"-fno-builtin"
		],
		"Include": [
			"/sys/src/lib/lib.json"
		],
		"Install": "/sys/src/kern/boot",
		"Library": "libboot.a",
		"Pre": [
			"if [ x$CONF = x ]; then echo Error: missing CONF environment variable && exit 1; fi",
			"mksys -o boot$CONF.c '-mode=bootamd64cpu.c' $JEHANNE/sys/src/sysconf.json",
			"#[ ! -f boot$CONF.elf.out ] || rm *.elf.out"
		],
		"SourceFiles": [
			"aux.c",
			"bootauth.c",
			"boot.c",
			"bootcache.c",
			"bootip.c",
			"bootrc.c",
			"embed.c",
			"local.c",
			"paq.c",
			"sac.c",
			"settime.c",
			"paths$CONF.c"
		]
	},
	"B.Exec": {
		"Include": [
			"/arch/$ARCH/include/cflags.json"
		],
		"Libs": [
			"./libboot.a",
			"/arch/$ARCH/lib/libip.a",
			"/arch/$ARCH/lib/libauth.a",
			"/arch/$ARCH/lib/libjehanne.a"
		],
		"Oflags": [
			"-static"
		],
		"Post": [
			"rm *.a",
			"data2c ramfs_bootamd64cpu_ ../boot/boot$CONF.elf.out >> ../amd64/autogenerated.c"
		],
		"Program": "boot$CONF.elf.out",
		"SourceFiles": [
			"printstub.c",
			"boot$CONF.c"
		]
	}
}
